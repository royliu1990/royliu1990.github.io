/*! For license information please see LICENSES */
webpackJsonp([0],{"+OnZ":function(t,e,r){"use strict";function n(t){for(var e={PPQ:t.header.ticksPerBeat},r=0;r<t.tracks.length;r++)for(var n=t.tracks[r],i=0;i<n.length;i++){var a=n[i];"meta"===a.type&&("timeSignature"===a.subtype?e.timeSignature=[a.numerator,a.denominator]:"setTempo"===a.subtype&&(e.bpm||(e.bpm=6e7/a.microsecondsPerBeat)))}return e.bpm=e.bpm||120,e}r.d(e,"a",function(){return n})},"/TYz":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("dM2O"),i=r("FSoc"),a=!1;var s=function(t){a||r("5h2j")},o=r("D8HT")(n.a,i.a,!1,s,null,null);o.options.__file="pages/index.vue",e.default=o.exports},"0YOF":function(t,e,r){(t.exports=r("yKCJ")(!1)).push([t.i,"",""])},"0w5U":function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var i=n(r("MjkP")),a=n(r("uz1B")),s=function(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.open(t.method||"GET",t.url),t.headers&&Object.keys(t.headers).forEach(function(e){n.setRequestHeader(e,t.headers[e])}),n.onload=function(){n.status>=200&&n.status<300?e(n.response):r(n.statusText)},n.onerror=function(){return r(n.statusText)},n.send(t.body)})},o=function(t,e){return s({url:t,method:"GET",body:e})},u="https://pay.nebulas.io/api/pay",h=function(t){var e,r,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",i="";for(e=0;t>e;e+=1)r=Math.random()*n.length,r=Math.floor(r),i+=n.charAt(r);return i},c={};window.addEventListener("message",function(t){if(console.log("nebpay: received resp.data: "+JSON.stringify(t.data)),"content"===t.data.src){var e=t.data.serialNumber,r=c[e];"function"==typeof r&&r(t.data.resp)}});var l=function(t,e){this.appKey=t,this.appSecret=e};l.prototype={submit:function(t,e,r,n,a){a.serialNumber=h(32);var s=new i(r=r||"0").times("1000000000000000000"),o={serialNumber:a.serialNumber,goods:a.goods,pay:{currency:t,to:e,value:s.toString(10),payload:n},callback:a.callback,listener:a.listener,nrc20:a.nrc20};return function(t){t.listener&&(c[t.serialNumber]=t.listener),t.listener=void 0,window.postMessage({src:"nebPay",logo:"nebulas",params:t},"*")}(o),function(t,e){var r={category:"jump",des:"confirmTransfer",pageParams:t},n="openapp.NASnano://virtual?params="+JSON.stringify(r);window.location.href=n}(o),a.serialNumber}};var f=function(t,e){this._pay=new l(t,e)},p={goods:{name:"",desc:"",orderId:"",ext:""},callback:u,listener:void 0,nrc20:void 0};f.prototype={pay:function(t,e,r){return r=a(p,r),this._pay.submit("NAS",t,e,{type:"binary"},r)},nrc20pay:function(t,e,r,n){n.nrc20&&n.nrc20.decimals>0&&(r=new i(r=r||"0").times(new i(10).pow(n.nrc20.decimals)).toString(10));var s="";n.nrc20&&n.nrc20.address&&(s=n.nrc20.address);var o=[e,r],u={type:"call",function:"transfer",args:JSON.stringify(o)};return n=a(p,n),this._pay.submit(t,s,"0",u,n)},deploy:function(t,e,r,n){var i={type:"deploy",source:t,sourceType:e,args:r};return n=a(p,n),this._pay.submit("NAS","","0",i,n)},call:function(t,e,r,n,i){var s={type:"call",function:r,args:n};return i=a(p,i),this._pay.submit("NAS",t,e,s,i)},simulateCall:function(t,e,r,n,i){var s={type:"simulateCall",function:r,args:n};return i=a(p,i),this._pay.submit("NAS",t,e,s,i)},queryPayInfo:function(t){return o(u+"/query?payId="+t)}},t.exports=f},"5h2j":function(t,e,r){var n=r("0YOF");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("bUva")("37afb938",n,!1,{sourceMap:!1})},"6QxV":function(t,e,r){"use strict";var n=r("3SZ7"),i=r.n(n),a=r("Abrj"),s=r("fVkU"),o=r("WHxD"),u=null;e.a={data:function(){return{tableData:[],searchValue:"",curWallet:null}},methods:{search:function(){if(0==this.searchValue.length)this.$message("搜索内容不能为空"),this.$refs.search.focus();else{var t=this;Object(a.b)(this.curWallet,"search",0,i()([this.searchValue]),function(e){if(""==e.execute_err){var r=JSON.parse(e.result);alert(e.result),t.tableData=r}else alert(i()(e))})}},get:function(t){t.name;var e=new BigNumber(t.price)*Math.pow(10,18),r=i()([t.name]),n=this;Object(a.b)(this.curWallet,"get",e,r,function(t){for(var e=JSON.parse(JSON.parse(t.result).midi,void 0,2),r=o.a(e).encode(),i=new Uint8Array(r.length),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);var s=new Blob([i],{type:"audio/midi;charset=binary"}),u=new FileReader;u.onload=function(t){n.$refs.player.play(t.target.result)},u.readAsArrayBuffer(s)})},funcIntervalQuery:function(){u.queryPayInfo(void 0,{callback:"https://pay.nebulas.io/api/pay"}).then(function(t){console.log("tx result: "+t);var e=JSON.parse(t);if(0===e.code){if(1===e.data.status){alert(i()(e.data.execute_result));for(var r=JSON.parse(e.data.execute_result),n=JSON.parse(r.midi,void 0,2),a=o.a(n).encode(),s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);var h=new Blob([s],{type:"audio/midi;charset=binary"}),c=this,l=new FileReader;l.onload=function(t){c.$refs.player.play(t.target.result)},l.readAsArrayBuffer(h)}0===e.data.status&&(alert(i()(e.data.execute_error)),clearInterval(void 0))}}).catch(function(t){console.log(t),alert(t),clearInterval(void 0)})},recommended:function(){var t=this;Object(a.b)(this.curWallet,"recommended",0,"",function(e){if(""==e.execute_err){var r=JSON.parse(e.result);t.tableData=r}else alert(e.execute_err)})}},components:{NasPlayer:s.a},mounted:function(){var t=r("0w5U");u=new t;var e=this;window.postMessage({target:"contentscript",data:{},method:"getAccount"},"*"),window.addEventListener("message",function(t){t.data&&t.data.data&&t.data.data.account&&(e.curWallet=t.data.data.account,e.recommended())})}}},"8cfC":function(t,e,r){"use strict";var n=r("6QxV"),i=r("RQmZ"),a=!1;var s=function(t){a||r("UUl4")},o=r("D8HT")(n.a,i.a,!1,s,null,null);o.options.__file="components/Search.vue",e.a=o.exports},"9Bug":function(t,e,r){"use strict";function n(t,e){if(t.length){const r=function(t,e){let r=0;const n=t.length;let i=n;if(n>0&&t[n-1].time<=e)return n-1;for(;r<i;){let n=Math.floor(r+(i-r)/2);const a=t[n],s=t[n+1];if(a.time===e){for(let r=n;r<t.length;r++)t[r].time===e&&(n=r);return n}if(a.time<e&&s.time>e)return n;a.time>e?i=n:a.time<e&&(r=n+1)}return-1}(t,e.time);t.splice(r+1,0,e)}else t.push(e)}r.d(e,"a",function(){return n})},AAwa:function(t,e,r){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"root"}})};n._withStripped=!0;var i={render:n,staticRenderFns:[]};e.a=i},FSoc:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-tabs",{attrs:{id:"tab"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"发现",name:"first"}},[r("Search")],1),r("el-tab-pane",{attrs:{label:"上传",name:"second"}},[r("Upload")],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};e.a=i},"J+Lg":function(t,e,r){(t.exports=r("yKCJ")(!1)).push([t.i,"#testMidi[data-v-d37ffac8]{width:32.9%;margin-top:10px}#reupload[data-v-d37ffac8],#sendTx[data-v-d37ffac8]{width:32.5%;margin-top:10px;float:right}#nameInput[data-v-d37ffac8]{width:200px;position:absolute;left:50%;margin-left:-100px}#midiJson[data-v-d37ffac8]{width:100%;float:right;background-color:#e02222;height:500px;text-align:center;position:relative;padding-top:50px}.el-header[data-v-d37ffac8]{text-align:center;background-color:#8888c7;color:#fff;line-height:60px}.el-main[data-v-d37ffac8]{width:100%;height:600px;background-color:#ecc170}#name[data-v-d37ffac8]{width:100%;float:right;clear:both;background-color:#dfcf9e;height:100px;line-height:100px;position:relative}#upload[data-v-d37ffac8]{width:100%;float:right;background-color:#c48989;height:300px;text-align:center;position:relative;padding-top:50px}",""])},JoMK:function(t,e,r){(function(t){var r={};!function(t){var e=t.DEFAULT_VOLUME=90,r=(t.DEFAULT_DURATION=128,t.DEFAULT_CHANNEL=0,{midi_letter_pitches:{a:21,b:23,c:12,d:14,e:16,f:17,g:19},midiPitchFromNote:function(t){var e=/([a-g])(#+|b+)?([0-9]+)$/i.exec(t),n=e[1].toLowerCase(),i=e[2]||"";return 12*parseInt(e[3],10)+r.midi_letter_pitches[n]+("#"==i.substr(0,1)?1:-1)*i.length},ensureMidiPitch:function(t){return"number"!=typeof t&&/[^0-9]/.test(t)?r.midiPitchFromNote(t):parseInt(t,10)},midi_pitches_letter:{12:"c",13:"c#",14:"d",15:"d#",16:"e",17:"f",18:"f#",19:"g",20:"g#",21:"a",22:"a#",23:"b"},midi_flattened_notes:{"a#":"bb","c#":"db","d#":"eb","f#":"gb","g#":"ab"},noteFromMidiPitch:function(t,e){var n,i=0,a=t;e=e||!1;return t>23&&(a=t-12*(i=Math.floor(t/12)-1)),n=r.midi_pitches_letter[a],e&&n.indexOf("#")>0&&(n=r.midi_flattened_notes[n]),n+i},mpqnFromBpm:function(t){var e=Math.floor(6e7/t),r=[];do{r.unshift(255&e),e>>=8}while(e);for(;r.length<3;)r.push(0);return r},bpmFromMpqn:function(t){if(void 0!==t[0]){0;for(var e=0,r=t.length-1;r>=0;++e,--r)t[e]<<r}return Math.floor(6e7/t)},codes2Str:function(t){return String.fromCharCode.apply(null,t)},str2Bytes:function(t,e){if(e)for(;t.length/2<e;)t="0"+t;for(var r=[],n=t.length-1;n>=0;n-=2){var i=0===n?t[n]:t[n-1]+t[n];r.unshift(parseInt(i,16))}return r},translateTickTime:function(t){for(var e=127&t;t>>=7;)e<<=8,e|=127&t|128;for(var r=[];r.push(255&e),128&e;)e>>=8;return r}}),n=function(t){if(!this)return new n(t);!t||null===t.type&&void 0===t.type||null===t.channel&&void 0===t.channel||null===t.param1&&void 0===t.param1||(this.setTime(t.time),this.setType(t.type),this.setChannel(t.channel),this.setParam1(t.param1),this.setParam2(t.param2))};n.NOTE_OFF=128,n.NOTE_ON=144,n.AFTER_TOUCH=160,n.CONTROLLER=176,n.PROGRAM_CHANGE=192,n.CHANNEL_AFTERTOUCH=208,n.PITCH_BEND=224,n.prototype.setTime=function(t){this.time=r.translateTickTime(t||0)},n.prototype.setType=function(t){if(t<n.NOTE_OFF||t>n.PITCH_BEND)throw new Error("Trying to set an unknown event: "+t);this.type=t},n.prototype.setChannel=function(t){if(t<0||t>15)throw new Error("Channel is out of bounds.");this.channel=t},n.prototype.setParam1=function(t){this.param1=t},n.prototype.setParam2=function(t){this.param2=t},n.prototype.toBytes=function(){var t=[],e=this.type|15&this.channel;return t.push.apply(t,this.time),t.push(e),t.push(this.param1),void 0!==this.param2&&null!==this.param2&&t.push(this.param2),t};var i=function(t){if(!this)return new i(t);this.setTime(t.time),this.setType(t.type),this.setData(t.data)};i.SEQUENCE=0,i.TEXT=1,i.COPYRIGHT=2,i.TRACK_NAME=3,i.INSTRUMENT=4,i.LYRIC=5,i.MARKER=6,i.CUE_POINT=7,i.CHANNEL_PREFIX=32,i.END_OF_TRACK=47,i.TEMPO=81,i.SMPTE=84,i.TIME_SIG=88,i.KEY_SIG=89,i.SEQ_EVENT=127,i.prototype.setTime=function(t){this.time=r.translateTickTime(t||0)},i.prototype.setType=function(t){this.type=t},i.prototype.setData=function(t){this.data=t},i.prototype.toBytes=function(){if(!this.type)throw new Error("Type for meta-event not specified.");var t=[];if(t.push.apply(t,this.time),t.push(255,this.type),Array.isArray(this.data))t.push(this.data.length),t.push.apply(t,this.data);else if("number"==typeof this.data)t.push(1,this.data);else if(null!==this.data&&void 0!==this.data){t.push(this.data.length);var e=this.data.split("").map(function(t){return t.charCodeAt(0)});t.push.apply(t,e)}else t.push(0);return t};var a=function(t){if(!this)return new a(t);var e=t||{};this.events=e.events||[]};a.START_BYTES=[77,84,114,107],a.END_BYTES=[0,255,47,0],a.prototype.addEvent=function(t){return this.events.push(t),this},a.prototype.addNoteOn=a.prototype.noteOn=function(t,i,a,s){return this.events.push(new n({type:n.NOTE_ON,channel:t,param1:r.ensureMidiPitch(i),param2:s||e,time:a||0})),this},a.prototype.addNoteOff=a.prototype.noteOff=function(t,i,a,s){return this.events.push(new n({type:n.NOTE_OFF,channel:t,param1:r.ensureMidiPitch(i),param2:s||e,time:a||0})),this},a.prototype.addNote=a.prototype.note=function(t,e,r,n,i){return this.noteOn(t,e,n,i),r&&this.noteOff(t,e,r,i),this},a.prototype.addChord=a.prototype.chord=function(t,e,r,n){if(!Array.isArray(e)&&!e.length)throw new Error("Chord must be an array of pitches");return e.forEach(function(e){this.noteOn(t,e,0,n)},this),e.forEach(function(e,n){0===n?this.noteOff(t,e,r):this.noteOff(t,e)},this),this},a.prototype.setInstrument=a.prototype.instrument=function(t,e,r){return this.events.push(new n({type:n.PROGRAM_CHANGE,channel:t,param1:e,time:r||0})),this},a.prototype.setTempo=a.prototype.tempo=function(t,e){return this.events.push(new i({type:i.TEMPO,data:r.mpqnFromBpm(t),time:e||0})),this},a.prototype.toBytes=function(){var t=0,e=[],n=a.START_BYTES,i=a.END_BYTES;this.events.forEach(function(r){var n=r.toBytes();t+=n.length,e.push.apply(e,n)}),t+=i.length;var s=r.str2Bytes(t.toString(16),4);return n.concat(s,e,i)};var s=function(t){if(!this)return new s(t);var e=t||{};if(e.ticks){if("number"!=typeof e.ticks)throw new Error("Ticks per beat must be a number!");if(e.ticks<=0||e.ticks>=32768||e.ticks%1!=0)throw new Error("Ticks per beat must be an integer between 1 and 32767!")}this.ticks=e.ticks||128,this.tracks=e.tracks||[]};s.HDR_CHUNKID="MThd",s.HDR_CHUNK_SIZE="\0\0\0",s.HDR_TYPE0="\0\0",s.HDR_TYPE1="\0",s.prototype.addTrack=function(t){return t?(this.tracks.push(t),this):(t=new a,this.tracks.push(t),t)},s.prototype.toBytes=function(){var t=this.tracks.length.toString(16),e=s.HDR_CHUNKID+s.HDR_CHUNK_SIZE;return parseInt(t,16)>1?e+=s.HDR_TYPE1:e+=s.HDR_TYPE0,e+=r.codes2Str(r.str2Bytes(t,2)),e+=String.fromCharCode(this.ticks/256,this.ticks%256),this.tracks.forEach(function(t){e+=r.codes2Str(t.toBytes())}),e},t.Util=r,t.File=s,t.Track=a,t.Event=n,t.MetaEvent=i}(r),void 0!==t&&null!==t?t.exports=r:void 0!==e&&null!==e?e=r:this.Midi=r}).call(e,r("s9/g")(t))},LNCI:function(t,e,r){"use strict";e.a=function(t){return t.replace(/\u0000/g,"")},e.f=function(t,e){return 60/e.bpm*(t/e.PPQ)},e.b=function(t){return"number"==typeof t},e.d=function(t){const e=Math.floor(t/12)-1;return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12]+e};const n=function(){const t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i;return e=>"string"==typeof e&&t.test(e)}();e.c=n;const i=function(){const t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return r=>{const n=t.exec(r),i=n[1],a=n[2];return e[i.toLowerCase()]+12*(parseInt(a)+1)}}();e.e=i},MBJY:function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r("LNCI");class i{static fromJSON(t){return new i(t.midi,t.time,t.duration,t.velocity)}constructor(t,e,r=0,i=1){if(n.b(t))this.midi=t;else{if(!n.c(t))throw new Error("the midi value must either be in Pitch Notation (e.g. C#4) or a midi value");this.name=t}this.time=e,this.duration=r,this.velocity=i}match(t){return n.b(t)?this.midi===t:n.c(t)?this.name.toLowerCase()===t.toLowerCase():void 0}get name(){return n.d(this.midi)}set name(t){this.midi=n.e(t)}get noteOn(){return this.time}set noteOn(t){this.time=t}get noteOff(){return this.time+this.duration}set noteOff(t){this.duration=t-this.time}toJSON(){return{name:this.name,midi:this.midi,time:this.time,velocity:this.velocity,duration:this.duration}}}},NyV5:function(t,e){function r(t){var e=0;function r(r){var n=t.charCodeAt(e);return r&&n>127&&(n-=256),e+=1,n}return{eof:function(){return e>=t.length},read:function(r){var n=t.substr(e,r);return e+=r,n},readInt32:function(){var r=(t.charCodeAt(e)<<24)+(t.charCodeAt(e+1)<<16)+(t.charCodeAt(e+2)<<8)+t.charCodeAt(e+3);return e+=4,r},readInt16:function(){var r=(t.charCodeAt(e)<<8)+t.charCodeAt(e+1);return e+=2,r},readInt8:r,readVarInt:function(){for(var t=0;;){var e=r();if(!(128&e))return t+e;t+=127&e,t<<=7}}}}t.exports=function(t){return function(t){function e(t){var e=t.read(4),r=t.readInt32();return{id:e,length:r,data:t.read(r)}}var n;function i(t){var e={};e.deltaTime=t.readVarInt();var r,i=t.readInt8();if(240==(240&i)){if(255==i){e.type="meta";var a=t.readInt8(),s=t.readVarInt();switch(a){case 0:if(e.subtype="sequenceNumber",2!=s)throw"Expected length for sequenceNumber event is 2, got "+s;return e.number=t.readInt16(),e;case 1:return e.subtype="text",e.text=t.read(s),e;case 2:return e.subtype="copyrightNotice",e.text=t.read(s),e;case 3:return e.subtype="trackName",e.text=t.read(s),e;case 4:return e.subtype="instrumentName",e.text=t.read(s),e;case 5:return e.subtype="lyrics",e.text=t.read(s),e;case 6:return e.subtype="marker",e.text=t.read(s),e;case 7:return e.subtype="cuePoint",e.text=t.read(s),e;case 32:if(e.subtype="midiChannelPrefix",1!=s)throw"Expected length for midiChannelPrefix event is 1, got "+s;return e.channel=t.readInt8(),e;case 47:if(e.subtype="endOfTrack",0!=s)throw"Expected length for endOfTrack event is 0, got "+s;return e;case 81:if(e.subtype="setTempo",3!=s)throw"Expected length for setTempo event is 3, got "+s;return e.microsecondsPerBeat=(t.readInt8()<<16)+(t.readInt8()<<8)+t.readInt8(),e;case 84:if(e.subtype="smpteOffset",5!=s)throw"Expected length for smpteOffset event is 5, got "+s;var o=t.readInt8();return e.frameRate={0:24,32:25,64:29,96:30}[96&o],e.hour=31&o,e.min=t.readInt8(),e.sec=t.readInt8(),e.frame=t.readInt8(),e.subframe=t.readInt8(),e;case 88:if(e.subtype="timeSignature",4!=s)throw"Expected length for timeSignature event is 4, got "+s;return e.numerator=t.readInt8(),e.denominator=Math.pow(2,t.readInt8()),e.metronome=t.readInt8(),e.thirtyseconds=t.readInt8(),e;case 89:if(e.subtype="keySignature",2!=s)throw"Expected length for keySignature event is 2, got "+s;return e.key=t.readInt8(!0),e.scale=t.readInt8(),e;case 127:return e.subtype="sequencerSpecific",e.data=t.read(s),e;default:return e.subtype="unknown",e.data=t.read(s),e}return e.data=t.read(s),e}if(240==i){e.type="sysEx";var s=t.readVarInt();return e.data=t.read(s),e}if(247==i){e.type="dividedSysEx";var s=t.readVarInt();return e.data=t.read(s),e}throw"Unrecognised MIDI event type byte: "+i}0==(128&i)?(r=i,i=n):(r=t.readInt8(),n=i);var u=i>>4;switch(e.channel=15&i,e.type="channel",u){case 8:return e.subtype="noteOff",e.noteNumber=r,e.velocity=t.readInt8(),e;case 9:return e.noteNumber=r,e.velocity=t.readInt8(),0==e.velocity?e.subtype="noteOff":e.subtype="noteOn",e;case 10:return e.subtype="noteAftertouch",e.noteNumber=r,e.amount=t.readInt8(),e;case 11:return e.subtype="controller",e.controllerType=r,e.value=t.readInt8(),e;case 12:return e.subtype="programChange",e.programNumber=r,e;case 13:return e.subtype="channelAftertouch",e.amount=r,e;case 14:return e.subtype="pitchBend",e.value=r+(t.readInt8()<<7),e;default:throw"Unrecognised MIDI event type: "+u}}stream=r(t);var a=e(stream);if("MThd"!=a.id||6!=a.length)throw"Bad .mid file - header not found";var s=r(a.data),o=s.readInt16(),u=s.readInt16(),h=s.readInt16();if(32768&h)throw"Expressing time division in SMTPE frames is not supported yet";ticksPerBeat=h;for(var c={formatType:o,trackCount:u,ticksPerBeat:ticksPerBeat},l=[],f=0;f<c.trackCount;f++){l[f]=[];var p=e(stream);if("MTrk"!=p.id)throw"Unexpected chunk - expected MTrk, got "+p.id;for(var d=r(p.data);!d.eof();){var m=i(d);l[f].push(m)}}return{header:c,tracks:l}}(t)}},OFrm:function(t,e,r){var n,i;i=function(){return function(){return function t(e,r,i){function a(o,u){if(!r[o]){if(!e[o]){if(!u&&"function"==typeof n&&n)return n(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[o]={exports:{}};e[o][0].call(c.exports,function(t){var r=e[o][1][t];return a(r||t)},c,c.exports,t,e,r,i)}return r[o].exports}for(var s="function"==typeof n&&n,o=0;o<i.length;o++)a(i[o]);return a}}()({1:[function(t,e,r){"use strict";r.byteLength=function(t){return 3*t.length/4-h(t)},r.toByteArray=function(t){var e,r,n,s,o,u=t.length;s=h(t),o=new a(3*u/4-s),r=s>0?u-4:u;var c=0;for(e=0;e<r;e+=4)n=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],o[c++]=n>>16&255,o[c++]=n>>8&255,o[c++]=255&n;2===s?(n=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,o[c++]=255&n):1===s&&(n=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,o[c++]=n>>8&255,o[c++]=255&n);return o},r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,a="",s=[],o=0,u=r-i;o<u;o+=16383)s.push(c(t,o,o+16383>u?u:o+16383));1===i?(e=t[r-1],a+=n[e>>2],a+=n[e<<4&63],a+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],a+=n[e>>10],a+=n[e>>4&63],a+=n[e<<2&63],a+="=");return s.push(a),s.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)n[o]=s[o],i[s.charCodeAt(o)]=o;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function c(t,e,r){for(var i,a,s=[],o=e;o<r;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,r){"use strict";var n=t("base64-js"),i=t("ieee754");r.Buffer=o,r.SlowBuffer=function(t){+t!=t&&(t=0);return o.alloc(+t)},r.INSPECT_MAX_BYTES=50;var a=2147483647;function s(t){if(t>a)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=o.prototype,e}function o(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(t)}return u(t,e,r)}function u(t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return J(t)?function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");var n;n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return n.__proto__=o.prototype,n}(t,e,r):"string"==typeof t?function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!o.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,e),n=s(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e):function(t){if(o.isBuffer(t)){var e=0|f(t.length),r=s(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}if(t){if(H(t)||"length"in t)return"number"!=typeof t.length||j(t.length)?s(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t){return h(t),s(t<0?0:0|f(t))}function l(t){for(var e=t.length<0?0:0|f(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function p(t,e){if(o.isBuffer(t))return t.length;if(H(t)||J(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(t).length;default:if(n)return R(t).length;e=(""+e).toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),j(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var a,s=1,o=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,o/=2,u/=2,r/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(a=r;a<o;a++)if(h(t,a)===h(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*s}else-1!==c&&(a-=a-c),c=-1}else for(r+u>o&&(r=o-u),a=r;a>=0;a--){for(var l=!0,f=0;f<u;f++)if(h(t,a+f)!==h(e,f)){l=!1;break}if(l)return a}return-1}function g(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(e.substr(2*s,2),16);if(j(o))return s;t[r+s]=o}return s}function v(t,e,r,n){return F(R(e,t.length-r),t,r,n)}function b(t,e,r,n){return F(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return b(t,e,r,n)}function k(t,e,r,n){return F(D(e),t,r,n)}function E(t,e,r,n){return F(function(t,e){for(var r,n,i,a=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function N(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a,s,o,u,h=t[i],c=null,l=h>239?4:h>223?3:h>191?2:1;if(i+l<=r)switch(l){case 1:h<128&&(c=h);break;case 2:128==(192&(a=t[i+1]))&&(u=(31&h)<<6|63&a)>127&&(c=u);break;case 3:a=t[i+1],s=t[i+2],128==(192&a)&&128==(192&s)&&(u=(15&h)<<12|(63&a)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=t[i+1],s=t[i+2],o=t[i+3],128==(192&a)&&128==(192&s)&&128==(192&o)&&(u=(15&h)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&u<1114112&&(c=u)}null===c?(c=65533,l=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=l}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}r.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(t,e,r){return u(t,e,r)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(t,e,r){return function(t,e,r){return h(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},o.allocUnsafe=function(t){return c(t)},o.allocUnsafeSlow=function(t){return c(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=o.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?N(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return N(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return x(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,r,n,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var a=i-n,s=r-e,u=Math.min(a,s),h=this.slice(n,i),c=t.slice(e,r),l=0;l<u;++l)if(h[l]!==c[l]){a=h[l],s=c[l];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},o.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},o.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},o.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return g(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function x(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=L(t[a]);return i}function _(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,r,n,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,a){return e=+e,r>>>=0,a||P(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function M(t,e,r,n,a){return e=+e,r>>>=0,a||P(t,0,r,8),i.write(t,e,r,n,52,8),r+8}o.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=o.prototype,n},o.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},o.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},o.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},o.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||A(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},o.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||A(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},o.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);A(this,t,e,r,i-1,-i)}var a=0,s=1,o=0;for(this[e]=255&t;++a<r&&(s*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+r},o.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);A(this,t,e,r,i-1,-i)}var a=r-1,s=1,o=0;for(this[e+a]=255&t;--a>=0&&(s*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},o.prototype.writeDoubleLE=function(t,e,r){return M(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return M(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},o.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var s=o.isBuffer(t)?t:new o(t,n),u=s.length;for(a=0;a<r-e;++a)this[a+e]=s[a%u]}return this};var U=/[^+/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function R(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function D(t){return n.toByteArray(function(t){if((t=t.trim().replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function H(t){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(t)}function j(t){return t!=t}},{"base64-js":1,ieee754:3}],3:[function(t,e,r){r.read=function(t,e,r,n,i){var a,s,o=8*i-n-1,u=(1<<o)-1,h=u>>1,c=-7,l=r?i-1:0,f=r?-1:1,p=t[e+l];for(l+=f,a=p&(1<<-c)-1,p>>=-c,c+=o;c>0;a=256*a+t[e+l],l+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=256*s+t[e+l],l+=f,c-=8);if(0===a)a=1-h;else{if(a===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),a-=h}return(p?-1:1)*s*Math.pow(2,a-n)},r.write=function(t,e,r,n,i,a){var s,o,u,h=8*a-i-1,c=(1<<h)-1,l=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=c?(o=0,s=c):s+l>=1?(o=(e*u-1)*Math.pow(2,i),s+=l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&o,p+=d,o/=256,i-=8);for(s=s<<i|o,h+=i;h>0;t[r+p]=255&s,p+=d,s/=256,h-=8);t[r+p-d]|=128*m}},{}],4:[function(t,e,r){"use strict";for(var n={VERSION:"2.0.3",NOTES:[],CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},i=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],a=0,s=function(t){i.forEach(function(e){e.forEach(function(e){return n.NOTES[a]=e+t}),a++})},o=-1;o<=9;o++)s(o);r.Constants=n},{}],5:[function(t,e,r){"use strict";var n=t("./player"),i=t("./utils"),a=t("./constants");e.exports={Player:n.Player,Utils:i.Utils,Constants:a.Constants}},{"./constants":4,"./player":6,"./utils":8}],6:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var a=t("./utils").Utils,s=t("./track").Track;Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var o=function(){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.sampleRate=5,this.startTime=0,this.buffer=r||null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},"function"==typeof t&&this.on("midiEvent",t)}return i(e,[{key:"loadFile",value:function(e){var r=t("fs");return this.buffer=r.readFileSync(e),this.fileLoaded()}},{key:"loadArrayBuffer",value:function(t){return this.buffer=new Uint8Array(t),this.fileLoaded()}},{key:"loadDataUri",value:function(t){for(var e=a.atob(t.split(",")[1]),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return this.buffer=r,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return"MThd"===a.bytesToLetters(this.buffer.subarray(0,4))}},{key:"getFormat",value:function(){return this.format=a.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var t=0;t<this.buffer.length;){if("MTrk"==a.bytesToLetters(this.buffer.subarray(t,t+4))){var e=a.bytesToNumber(this.buffer.subarray(t+4,t+8));this.tracks.push(new s(this.tracks.length,this.buffer.subarray(t+8,t+8+e)))}t+=a.bytesToNumber(this.buffer.subarray(t+4,t+8))+8}return this}},{key:"enableTrack",value:function(t){return this.tracks[t-1].enable(),this}},{key:"disableTrack",value:function(t){return this.tracks[t-1].disable(),this}},{key:"getDivision",value:function(){return this.division=a.bytesToNumber(this.buffer.subarray(12,14)),this}},{key:"playLoop",value:function(t){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(e){if(!t&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var r=e.handleEvent(this.tick,t);t&&r?(r.hasOwnProperty("name")&&"Set Tempo"===r.name&&this.setTempo(r.data),r.hasOwnProperty("name")&&"Program Change"===r.name&&(this.instruments.includes(r.value)||this.instruments.push(r.value))):r&&this.emitEvent(r)}},this),t||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(t){return this.tempo=t,this}},{key:"setStartTime",value:function(t){this.startTime=t}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=(new Date).getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(t){return this.stop(),this.startTick=t,this.tracks.forEach(function(e){e.setEventIndexByTick(t)}),this}},{key:"skipToPercent",value:function(t){if(t<0||t>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(t/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(t){var e=this.getSongTime();if(t<0||t>e)throw t+" seconds not within song time of "+e;return this.skipToPercent(t/e*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||"object"===n(this.setIntervalId)}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(t){return t.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(t){return t.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(t){return t.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(t,e){return{events:{length:t.events.length+e.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.tick)/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return 14+8*this.tracks.length+this.tracks.reduce(function(t,e){return{pointer:t.pointer+e.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(t,e){return{eventIndex:t.eventIndex+e.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.eventsPlayed()==this.totalEvents:this.bytesProcessed()==this.buffer.length}},{key:"getCurrentTick",value:function(){return Math.round(((new Date).getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick}},{key:"emitEvent",value:function(t){return this.triggerPlayerEvent("midiEvent",t),this}},{key:"on",value:function(t,e){return this.eventListeners.hasOwnProperty(t)||(this.eventListeners[t]=[]),this.eventListeners[t].push(e),this}},{key:"triggerPlayerEvent",value:function(t,e){return this.eventListeners.hasOwnProperty(t)&&this.eventListeners[t].forEach(function(t){return t(e||{})}),this}}]),e}();r.Player=o},{"./track":7,"./utils":8,fs:"fs"}],7:[function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=t("./constants").Constants,a=t("./utils").Utils,s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=e,this.data=r,this.delta=0,this.runningDelta=0,this.events=[]}return n(t,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(t){for(var e in t=t||0,this.events)if(this.events[e].tick>=t)return this.eventIndex=e,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){for(var t=this.getCurrentByte(),e=1;t>=128;)t=this.data[this.pointer+e],e++;return e}},{key:"getDelta",value:function(){return a.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(t,e){if(e=e||!1){var r=t-this.lastTick>=this.getDelta();if(this.pointer<this.data.length&&(e||r)){var n=this.parseEvent();if(this.enabled)return n}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=t&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(t){this.pointer;var e=a.readVarInt(this.data.subarray(t+2,t+2+1));return a.bytesToLetters(this.data.subarray(t+1+2,t+1+e+2))}},{key:"parseEvent",value:function(){var t=this.pointer+this.getDeltaByteCount(),e={},r=this.getDeltaByteCount();if(e.track=this.index+1,e.delta=this.getDelta(),this.lastTick=this.lastTick+e.delta,this.runningDelta+=e.delta,e.tick=this.runningDelta,e.byteIndex=this.pointer,255==this.data[t]){switch(this.data[t+1]){case 0:e.name="Sequence Number";break;case 1:e.name="Text Event",e.string=this.getStringData(t);break;case 2:e.name="Copyright Notice";break;case 3:e.name="Sequence/Track Name",e.string=this.getStringData(t);break;case 4:e.name="Instrument Name",e.string=this.getStringData(t);break;case 5:e.name="Lyric",e.string=this.getStringData(t);break;case 6:e.name="Marker";break;case 7:e.name="Cue Point",e.string=this.getStringData(t);break;case 9:e.name="Device Name",e.string=this.getStringData(t);break;case 32:e.name="MIDI Channel Prefix";break;case 33:e.name="MIDI Port",e.data=a.bytesToNumber([this.data[t+3]]);break;case 47:e.name="End of Track";break;case 81:e.name="Set Tempo",e.data=Math.round(6e7/a.bytesToNumber(this.data.subarray(t+3,t+6))),this.tempo=e.data;break;case 84:e.name="SMTPE Offset";break;case 88:e.name="Time Signature",e.data=this.data.subarray(t+3,t+7),e.timeSignature=e.data[0]+"/"+Math.pow(e.data[1],2);break;case 89:e.name="Key Signature",e.data=this.data.subarray(t+3,t+5),e.data[0]>=0?e.keySignature=i.CIRCLE_OF_FIFTHS[e.data[0]]:e.data[0]<0&&(e.keySignature=i.CIRCLE_OF_FOURTHS[Math.abs(e.data[0])]),0==e.data[1]?e.keySignature+=" Major":1==e.data[1]&&(e.keySignature+=" Minor");break;case 127:e.name="Sequencer-Specific Meta-event";break;default:e.name="Unknown: "+this.data[t+1].toString(16)}var n=this.data[this.pointer+r+2];this.pointer+=r+3+n}else if(240==this.data[t]){e.name="Sysex";n=this.data[this.pointer+r+1];this.pointer+=r+2+n}else this.data[t]<128?(e.running=!0,e.noteNumber=this.data[t],e.noteName=i.NOTES[this.data[t]],e.velocity=this.data[t+1],this.lastStatus<=143?(e.name="Note off",e.channel=this.lastStatus-128+1):this.lastStatus<=159&&(e.name="Note on",e.channel=this.lastStatus-144+1),this.pointer+=r+2):(this.lastStatus=this.data[t],this.data[t]<=143?(e.name="Note off",e.channel=this.lastStatus-128+1,e.noteNumber=this.data[t+1],e.noteName=i.NOTES[this.data[t+1]],e.velocity=Math.round(this.data[t+2]/127*100),this.pointer+=r+3):this.data[t]<=159?(e.name="Note on",e.channel=this.lastStatus-144+1,e.noteNumber=this.data[t+1],e.noteName=i.NOTES[this.data[t+1]],e.velocity=Math.round(this.data[t+2]/127*100),this.pointer+=r+3):this.data[t]<=175?(e.name="Polyphonic Key Pressure",e.channel=this.lastStatus-160+1,e.note=i.NOTES[this.data[t+1]],e.pressure=event[2],this.pointer+=r+3):this.data[t]<=191?(e.name="Controller Change",e.channel=this.lastStatus-176+1,e.number=this.data[t+1],e.value=this.data[t+2],this.pointer+=r+3):this.data[t]<=207?(e.name="Program Change",e.channel=this.lastStatus-192+1,e.value=this.data[t+1],this.pointer+=r+2):this.data[t]<=223?(e.name="Channel Key Pressure",e.channel=this.lastStatus-208+1,this.pointer+=r+2):this.data[t]<=239?(e.name="Pitch Bend",e.channel=this.lastStatus-224+1,this.pointer+=r+3):e.name="Unknown.  Pointer: "+this.pointer.toString()+" "+t.toString()+" "+this.data.length);return this.delta+=e.delta,this.events.push(e),e}},{key:"endOfTrack",value:function(){return 255==this.data[this.pointer+1]&&47==this.data[this.pointer+2]&&0==this.data[this.pointer+3]}}]),t}();e.exports.Track=s},{"./constants":4,"./utils":8}],8:[function(t,e,r){(function(t){"use strict";var e=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var n=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}return e(r,null,[{key:"byteToHex",value:function(t){return("0"+t.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(t){var e=[];return t.forEach(function(t){return e.push(r.byteToHex(t))}),e.join("")}},{key:"hexToNumber",value:function(t){return parseInt(t,16)}},{key:"bytesToNumber",value:function(t){return r.hexToNumber(r.bytesToHex(t))}},{key:"bytesToLetters",value:function(t){var e=[];return t.forEach(function(t){return e.push(String.fromCharCode(t))}),e.join("")}},{key:"decToBinary",value:function(t){return(t>>>0).toString(2)}},{key:"readVarInt",value:function(t){var e=0;return t.forEach(function(t){128&t?(e+=127&t,e<<=7):e+=t}),e}},{key:"atob",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return"function"==typeof atob?atob(e):new t(e,"base64").toString("binary")})}]),r}();r.Utils=n}).call(this,t("buffer").Buffer)},{buffer:2}]},{},[5])(5)},t.exports=i()},P926:function(t,e,r){(t.exports=r("yKCJ")(!1)).push([t.i,"#table{width:100%}",""])},RQmZ:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",{staticStyle:{height:"500px",border:"1px solid #eee"}},[r("el-header",[r("el-input",{ref:"search",attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}})],1),r("el-main",{scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-table",{attrs:{data:t.tableData,id:"table"},on:{"row-click":t.get}},[r("el-table-column",{attrs:{prop:"name",label:"名称",sytle:"width:10%"}}),r("el-table-column",{attrs:{prop:"author",label:"作者",sytle:"width:40%"}}),r("el-table-column",{attrs:{prop:"price",label:"价格",sytle:"width:25%"}}),r("el-table-column",{attrs:{prop:"time",label:"日期",sytle:"width:25%"}})],1)]}}])}),r("NasPlayer",{ref:"player"})],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};e.a=i},Sr3g:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r("9Bug"),i=r("Ua++"),a=r("WJQW"),s=r("MBJY"),o=r("i8rK");class u{static fromJSON(t){var e=new u(t.name,t.instrumentNumber,t.channelNumber);return e.id=t.id,t.notes&&t.notes.forEach(t=>{var r=s.a.fromJSON(t);e.notes.push(r)}),t.controlChanges&&(e.controlChanges=t.controlChanges),e}constructor(t,e=-1,r=-1){this.name=t,this.channelNumber=r,this.notes=[],this.controlChanges={},this.instrumentNumber=e}note(t,e,r=0,i=1){const a=new s.a(t,e,r,i);return Object(n.a)(this.notes,a),this}noteOn(t,e,r=1){const i=new s.a(t,e,0,r);return Object(n.a)(this.notes,i),this}noteOff(t,e){for(let r=0;r<this.notes.length;r++){let n=this.notes[r];if(n.match(t)&&0===n.duration){n.noteOff=e;break}}return this}cc(t,e,r){this.controlChanges.hasOwnProperty(t)||(this.controlChanges[t]=[]);const a=new i.a(t,e,r);return Object(n.a)(this.controlChanges[t],a),this}patch(t){return this.instrumentNumber=t,this}channel(t){return this.channelNumber=t,this}get noteOns(){const t=[];return this.notes.forEach(e=>{t.push({time:e.noteOn,midi:e.midi,name:e.name,velocity:e.velocity})}),t}get noteOffs(){const t=[];return this.notes.forEach(e=>{t.push({time:e.noteOff,midi:e.midi,name:e.name})}),t}get length(){return this.notes.length}get startTime(){if(this.notes.length){return this.notes[0].noteOn}return 0}get duration(){if(this.notes.length){return this.notes[this.notes.length-1].noteOff}return 0}get instrument(){return this.isPercussion?o.a[this.instrumentNumber]:o.b[this.instrumentNumber]}set instrument(t){const e=o.b.indexOf(t);-1!==e&&(this.instrumentNumber=e)}get isPercussion(){return[9,10].includes(this.channelNumber)}get instrumentFamily(){return this.isPercussion?"drums":o.c[Math.floor(this.instrumentNumber/8)]}scale(t){return this.notes.forEach(e=>{e.time*=t,e.duration*=t}),this}slice(t=0,e=this.duration){const r=Math.max(this.notes.findIndex(e=>e.time>=t),0),n=this.notes.findIndex(t=>t.noteOff>=e)+1,i=new u(this.name);return i.notes=this.notes.slice(r,n),i.notes.forEach(e=>e.time=e.time-t),i}encode(t,e){const r=e.PPQ/(60/e.bpm);let n=0;const i=Math.max(0,this.channelNumber);function s(t){const e=Math.floor(r*t),i=Math.max(e-n,0);return n=e,i}-1!==this.instrumentNumber&&t.instrument(i,this.instrumentNumber),Object(a.a)(this.noteOns.sort((t,e)=>t.time-e.time),e=>{t.addNoteOn(i,e.name,s(e.time),Math.floor(127*e.velocity))},this.noteOffs.sort((t,e)=>t.time-e.time),e=>{t.addNoteOff(i,e.name,s(e.time))})}toJSON(){const t={startTime:this.startTime,duration:this.duration,length:this.length,notes:[],controlChanges:{}};return void 0!==this.id&&(t.id=this.id),t.name=this.name,-1!==this.instrumentNumber&&(t.instrumentNumber=this.instrumentNumber,t.instrument=this.instrument,t.instrumentFamily=this.instrumentFamily),-1!==this.channelNumber&&(t.channelNumber=this.channelNumber,t.isPercussion=this.isPercussion),this.notes.length&&(t.notes=this.notes.map(t=>t.toJSON())),Object.keys(this.controlChanges).length&&(t.controlChanges=this.controlChanges),t}}},UUl4:function(t,e,r){var n=r("P926");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("bUva")("1a80de67",n,!1,{sourceMap:!1})},"Ua++":function(t,e,r){"use strict";r.d(e,"a",function(){return i});const n={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoContro"};class i{constructor(t,e,r){this.number=t,this.time=e,this.value=r}get name(){if(n.hasOwnProperty(this.number))return n[this.number]}}},VgTF:function(t,e,r){"use strict";var n,i=r("Edqs"),a=(r.n(i),r("Hmpo")),s=r.n(a),o=r("vYJH"),u=r.n(o),h=r("hs4R"),c=r.n(h),l=r("EBtb"),f=(r.n(l),r("8it8")),p=r("pAiD"),d=r("OFrm"),m=r.n(d),y=this,g=(r("3gTs"),n=u()(s.a.mark(function t(e){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get(e,{responseType:"arraybuffer"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}},t,y)})),function(t){var e,r=t.channel,n=t.noteName,i=t.track,a=t.name,s=(e={noteName:n,track:i,channel:r}).noteName+"_"+e.track+"_"+e.channel,o=Object(f.b)(r);return"Note on"===a?{type:"NOTE_ON",payload:{key:s,instrumentName:o,channel:r,noteName:n}}:"Note off"===a?{type:"NOTE_OFF",payload:{key:s,instrumentName:o,channel:r,noteName:n}}:null}),v={},b=function(t){var e=t.instrument,r=t.noteName,n=t.noteKey;n in v||(v[n]=[]),v[n].push(e.play(r))};e.a={name:"NasPlayer",created:function(){this.state={areInstrumentsLoaded:!1},this.midiPlayer=new m.a.Player},methods:{play:function(){var t=u()(s.a.mark(function t(e){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.length){t.next=3;break}return alert("长度为0"),t.abrupt("return");case 3:return this.midiPlayer.loadArrayBuffer(e),t.next=6,Object(p.b)(this.midiPlayer);case 6:r=t.sent,this.state={areInstrumentsLoaded:!0,playableInstruments:r},this.midiPlayer.on("midiEvent",function(t){var e=g(t);if(null!==e){var n=e.payload,i=e.type,a=n.instrumentName,s=n.noteName,o=n.key,u=n.channel;if(!u in r)console.error(a+" not loaded");else switch(i){case"NOTE_ON":console.log(r[u]),b({instrument:r[u],noteName:s,noteKey:o});case"NOTE_OFF":console.log("Left as an exercise to the reader");default:return}}}),this.midiPlayer.play();case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),stop:function(){this.midiPlayer.stop()}}}},WHxD:function(t,e,r){"use strict";e.b=function(t){return(new n.a).decode(t)},e.a=function(t){return n.a.fromJSON(t)};var n=r("vX1A");r("i8rK")},WJQW:function(t,e,r){"use strict";function n(t,e){for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if(n.length>i)return!0}return!1}function i(t,e,r){let n=0,i=1/0;for(let r=0;r<t.length;r++){let a=t[r],s=e[r];a[s]&&a[s].time<i&&(n=r,i=a[s].time)}r[n](t[n][e[n]]),e[n]+=1}function a(...t){const e=t.filter((t,e)=>e%2==0),r=new Uint32Array(e.length),a=t.filter((t,e)=>e%2==1);for(;n(e,r);)i(e,r,a)}r.d(e,"a",function(){return a})},XQ2w:function(t,e,r){"use strict";var n,i,a=r("3SZ7"),s=r.n(a),o=r("WHxD"),u=r("hs4R"),h=r.n(u),c=r("fVkU"),l=null;e.a={data:function(){return{uploaded:!1,name:"",midiJson:"",sendable:!1,dialogVisible:!1,tip:"",focus:null}},watch:{midiJson:function(t){this.sendable=!1}},methods:{reupload:function(){this.uploaded=!1},uploadSuccess:function(t,e,r){var n=this;h.a.get(e.url,{responseType:"arraybuffer"}).then(function(t){n.uploaded=!0;var e=o.b(t.data);n.midiJson=s()(e,void 0)})},handleClose:function(){this.dialogVisible=!1,this.focus&&(this.focus.focus(),this.focus.value="",this.focus=null)},sendTx:function(){if(l.value<.1)this._alert("金额不能低于0.1NAS!");else{if(0==this.name.length)return this.focus=this.$refs.name,void this._alert("音乐名称不能为空!");if(0==this.midiJson.length)return this.focus=this.$refs.midiJson,void this._alert("midiJson不能为空!");var t="["+s()(this.name)+","+s()(this.midiJson)+"]";n=l.call("n1ku1trrvLqp4bYA1fsQC1ends3Q9HA2ujU","0.1","save",t,{callback:"https://pay.nebulas.io/api/pay"});var e=this;i=setInterval(function(){e.funcIntervalQuery()},1e4)}},_alert:function(t){this.tip=t,this.dialogVisible=!0},funcIntervalQuery:function(){var t=this;l.queryPayInfo(n,{callback:"https://pay.nebulas.io/api/pay"}).then(function(e){console.log("tx result: "+e);var r=JSON.parse(e);0===r.code&&(1===r.data.status&&(t._alert("midi上链成功!"),clearInterval(i)),0===r.data.status&&(t._alert(r.data.execute_error),clearInterval(i)))}).catch(function(e){console.log(e),t._alert(e),clearInterval(i)})},testMidi:function(){try{this.$refs.player.stop();for(var t=JSON.parse(this.midiJson,void 0,2),e=o.a(t).encode(),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);var i=new Blob([r],{type:"audio/midi;charset=binary"}),a=this,s=new FileReader;s.onload=function(t){a.$refs.player.play(t.target.result)},s.readAsArrayBuffer(i),this._alert("测试通过!"),this.sendable=!0}catch(t){this.focus=this.$refs.midiJson,this._alert("midi json数据格式错误，转换失败，请检查!  详情:"+t),this.sendable=!1}}},components:{NasPlayer:c.a},mounted:function(){var t=r("0w5U");l=new t}}},ZPzY:function(t,e,r){"use strict";var n=r("XQ2w"),i=r("yaWZ"),a=!1;var s=function(t){a||r("n11b")},o=r("D8HT")(n.a,i.a,!1,s,"data-v-d37ffac8",null);o.options.__file="components/Upload.vue",e.a=o.exports},dM2O:function(t,e,r){"use strict";var n=r("8cfC"),i=r("ZPzY");e.a={data:function(){return{activeName:"first"}},methods:{handleClick:function(t,e){}},components:{Search:n.a,Upload:i.a}}},fVkU:function(t,e,r){"use strict";var n=r("VgTF"),i=r("AAwa"),a=r("D8HT")(n.a,i.a,!1,null,null,null);a.options.__file="components/NasMidiPlayer.vue",e.a=a.exports},i8rK:function(t,e,r){"use strict";e.b=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];e.c=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","ethnic","percussive","sound effects"];e.a={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}},n11b:function(t,e,r){var n=r("J+Lg");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("bUva")("1a785a06",n,!1,{sourceMap:!1})},vX1A:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r("NyV5"),i=(r.n(n),r("JoMK")),a=(r.n(i),r("LNCI")),s=r("Sr3g"),o=r("+OnZ");class u{static fromJSON(t){var e=new u;return e.header=t.header,t.tracks.forEach(t=>{var r=s.a.fromJSON(t);e.tracks.push(r)}),e}constructor(){this.header={bpm:120,timeSignature:[4,4],PPQ:480},this.tracks=[]}load(t,e=null,r="GET"){return new Promise((n,i)=>{var a=new XMLHttpRequest;a.open(r,t),a.responseType="arraybuffer",a.addEventListener("load",()=>{4===a.readyState&&200===a.status?n(this.decode(a.response)):i(a.status)}),a.addEventListener("error",i),a.send(e)}).catch(function(t){console.log(t)})}decode(t){if(t instanceof ArrayBuffer){var e=new Uint8Array(t);t=String.fromCharCode.apply(null,e)}const r=n(t);return this.header=Object(o.a)(r),this.tracks=[],r.tracks.forEach((t,e)=>{const r=new s.a;r.id=e,this.tracks.push(r);let n=0;t.forEach(t=>{n+=a.f(t.deltaTime,this.header),"meta"===t.type&&"trackName"===t.subtype?r.name=a.a(t.text):"noteOn"===t.subtype?(r.noteOn(t.noteNumber,n,t.velocity/127),-1===r.channelNumber&&(r.channelNumber=t.channel)):"noteOff"===t.subtype?r.noteOff(t.noteNumber,n):"controller"===t.subtype&&t.controllerType?r.cc(t.controllerType,n,t.value/127):"meta"===t.type&&"instrumentName"===t.subtype?r.instrument=t.text:"channel"===t.type&&"programChange"===t.subtype&&(r.patch(t.programNumber),r.channelNumber=t.channel)}),this.header.name||r.length||!r.name||(this.header.name=r.name)}),this}encode(){const t=new i.File({ticks:this.header.PPQ}),e=this.tracks.filter(t=>!t.length)[0];if(this.header.name&&(!e||e.name!==this.header.name)){t.addTrack().addEvent(new i.MetaEvent({time:0,type:i.MetaEvent.TRACK_NAME,data:this.header.name}))}return this.tracks.forEach(e=>{const r=t.addTrack();r.setTempo(this.bpm),e.name&&r.addEvent(new i.MetaEvent({time:0,type:i.MetaEvent.TRACK_NAME,data:e.name})),e.encode(r,this.header)}),t.toBytes()}toArray(){const t=this.encode(),e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}toJSON(){const t={header:this.header,startTime:this.startTime,duration:this.duration,tracks:(this.tracks||[]).map(t=>t.toJSON())};return t.header.name||(t.header.name=""),t}track(t){const e=new s.a(t);return this.tracks.push(e),e}get(t){return a.b(t)?this.tracks[t]:this.tracks.find(e=>e.name===t)}slice(t=0,e=this.duration){const r=new u;return r.header=this.header,r.tracks=this.tracks.map(r=>r.slice(t,e)),r}get startTime(){const t=this.tracks.map(t=>t.startTime);return t.length&&Math.min.apply(Math,t)||0}get bpm(){return this.header.bpm}set bpm(t){const e=this.header.bpm;this.header.bpm=t;const r=e/t;this.tracks.forEach(t=>t.scale(r))}get timeSignature(){return this.header.timeSignature}set timeSignature(t){this.header.timeSignature=t}get duration(){const t=this.tracks.map(t=>t.duration);return t.length&&Math.max.apply(Math,t)||0}}},yaWZ:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",[r("el-header",[t._v("\n       点击上传作品\n   ")]),r("el-main",[r("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("span",[t._v(t._s(t.tip))]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:t.handleClose}},[t._v("确 定")])],1)]),r("div",{attrs:{id:"name"}},[r("el-input",{ref:"name",attrs:{id:"nameInput",placeholder:"请输入名称",clearable:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t.uploaded?r("div",[r("el-input",{ref:"midiJson",attrs:{type:"textarea",id:"midiJson"},model:{value:t.midiJson,callback:function(e){t.midiJson=e},expression:"midiJson"}}),r("el-button",{attrs:{id:"testMidi",type:"success"},on:{click:t.testMidi}},[t._v("测试")]),r("el-button",{attrs:{id:"reupload",type:"primary"},on:{click:t.reupload}},[t._v("返回")]),r("el-button",{attrs:{id:"sendTx",type:"info",disabled:!t.sendable},on:{click:t.sendTx}},[t._v("发送")])],1):r("div",[r("div",{attrs:{id:"upload"}},[r("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","on-success":t.uploadSuccess,multiple:""}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),r("em",[t._v("点击上传")])]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])])],1)]),r("NasPlayer",{ref:"player"})],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};e.a=i}});